<section layout:fragment="content" layout:decorate="~{/fragmentos/layout}">
	<main>
		<div class="container-fluid">
			<!-- INICIO TITULO DA PÁGINA -->
			<div class="row page-titles">
				<div class="col-md-5 align-self-center">
				    <h4 class="text-themecolor">CADASTRO DE VISITAS</h4>
				</div>
				<div class="col-md-7 align-self-center text-right">
				    <div class="d-flex justify-content-end align-items-center">
				        <ol class="breadcrumb">
				            <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
				            <li class="breadcrumb-item"><a href="javascript:void(0)">Histórico Visitas</a></li>
				            <li class="breadcrumb-item active">Cadastro Visitas</li>
				        </ol>
				    </div>
				</div>
			</div>
			
			<div class="row col-md-auto ml-sm-auto col-lg-7 mx-auto">
				<div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
					<form id="formVisita" class="form-visita" th:object="${visita}" th:action="@{/admin/cadastrarVisita}" method="POST">
						<div class="ribbon-wrapper card">
							<div class="ribbon ribbon-info">VISITAS</div>
							<div class="table-responsive-md" th:if="${#fields.hasErrors('*')}">
							 <h6>Atenção, corrija os erros sinalizados abaixo:</h6>
								<div class="alert alert-danger" role="alert">
									<ul><li th:each = "err : ${#fields.errors('*')}" th:text="${err}">Input is incorrect</li></ul>
								</div>
							</div> 
														
								
								<div class="form-row">
									<div class="form-group col-md-1" th:if="${edicao}">
										<label for="id">ID</label>
										<input type="number" class="form-control" id="id" name="id" placeholder="ID" th:field="*{id}" readonly="readonly" />
									</div>
								</div>
								
								<div class="form-row">
									<div class="form-group col-md-1" style="display:none;﻿">
										<input type="type" class="form-control"  th:value="${usuario.id}" name="usuario" id="usuario" th:field="*{{usuario}}" readonly="readonly"/>
									
								</div>
								<div class="form-group col-md-1" style="display:none;﻿">
										<input type="type" class="form-control" name="estabelecimento" th:value="${estabelecimento.id}" th:field="*{estabelecimento}" readonly="readonly"/>
								</div>
								</div>
									
								<div class="form-row">
									<div class="form-group col-md-12" >
										<label for="nome">Nome</label>
										<input type="text" class="form-control text-uppercase"  id="nome" name="nome" th:field="*{nome}" /> 
									</div>
								</div>	
								
								<div class="form-row">
									<div class="form-group col-md-6" >
										<label for="cpf">C.P.F</label>
										<input type="text" class="form-control" id="cpf" name="cpf" th:field="*{cpf}" /> 
									</div>
									<div class="form-group col-md-6" >
										<label for="empresa">Empresa</label>
										<input type="text" class="form-control text-uppercase" id="empresa"  name="empresa" th:field="*{empresa}" /> 
									</div>
								</div>
								
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="servico">Serviço</label>
										<select id="servico" name="servico" class="form-control" >
											<option value="">Selecionar</option>
										    <option th:each="_servico : ${servicos}" th:field="*{servico}" th:text="${_servico.nome}" th:value="${{_servico.id}}">Selecione</option> 
										</select>
									</div>
								</div>	
									
								<div class="form-row">
									<div class="form-group col-md-6">
										<label for="inicioServico">Data/Hora In&iacute;cio</label>
										<input id="inicioServico" name="inicioServico" type="text" th:field="*{{inicioServico}}" class="form-control form-control-sm input-group inicioServico" th:value="${#dates.format(inicioServico, 'dd/MM/yyyy HH:mm:ss')}" placeholder="dd/mm/aaaa hh:mm:ss" autocomplete="off" required>
									</div>			
									<div class="form-group col-md-6">
										<label for="fimServico">Data/Hora Final</label>
										<input id="fimServico" name="fimServico" type="text" th:field="*{{fimServico}}" class="form-control form-control-sm input-group fimServico" th:value="${#dates.format(fimServico, 'dd/MM/yyyy HH:mm:ss')}" placeholder="dd/mm/aaaa hh:mm:ss" autocomplete="off">
									</div>
								</div>				
					
								<div class="form-row">
									<div class="form-group col-md-12">
										<label for="historico">Histórico</label>
										<textarea rows="7" class="form-control text-uppercase"  id="historico" name="historico" th:field="*{{historico}}"  placeholder="Informe o historico da visita"/></textarea>
									</div>
								</div>
								
								<div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
			                    	<div class="btn-group mr-2" role="group">			
										<button type="button" onclick="window.location.href='/admin/cadastros/visitas/historico'" class="btn btn-info">Voltar</button>
									</div>
									<div class="btn-group mr-2" role="group">
										<button id="btn-salvar-visita" th:if="${edicao}" type="submit" name="atualizar" class="btn btn-primary">Salvar Modificações</button>
										<button id="btn-salvar-visita" th:if="${!edicao}" type="submit" name="cadastrar" class="btn btn-primary">Salvar</button>
									</div>
								</div>							
						</div>
					</form>
				</div>
			</div>
			
		</div><!-- Container -->
	</main>
</section>