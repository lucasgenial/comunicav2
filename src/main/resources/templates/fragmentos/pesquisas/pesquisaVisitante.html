<section layout:fragment="content" layout:decorate="~{/fragmentos/layout}">
	<main>
		<div class="container-fluid">
			<div class="row page-titles">
				<div class="col-md-5 align-self-center">
				    <h4 class="text-themecolor">PESQUISAR</h4>
				</div>
				<div class="col-md-7 align-self-center text-right">
				    <div class="d-flex justify-content-end align-items-center">
				        <ol class="breadcrumb">
				            <li class="breadcrumb-item"><a href="javascript:void(0)">Home</a></li>
				            <li class="breadcrumb-item active">Pesquisar</li>
				        </ol>
				    </div>
				</div>
			</div>
			<div class="row">
				<div class="col-12">
					<form id="formPesquisaPoliciamento" th:object="${visitante}" th:action="@{/visitante/filtrar}" method="post">
						<div class="ribbon-wrapper card">
							<div class="ribbon ribbon-info">FILTRO</div>
							<div class="form-group">
								<div class="form-row">
									<div class="form-group col-md-2">
										<label for="nome">Nome parcial do visitante</label> 
										<input type="text" class="form-control form-control" th:field="*{nome}">
									</div>					
									<div class="form-group col-md-2">
										<label for="cpf">CPF do visitante</label>  
										<input id="cpf" type="text" class="form-control form-control cpf" th:field="*{cpf}">
									</div>
								</div>
								<div class="form-row">
									<button type="submit" class="mr-2 btn btn-info">Buscar</button>
									<a href="/admin/menu/visitas" class="mr-2 btn btn-info">Voltar</a>
								</div>
							</div>
						</div>
					</form>
				</div>
			</div>
			<div class="row"  th:if="${visitantesResultado != null}">
				<div class="col-12">
					<div class="ribbon-wrapper card">
						<div class="ribbon ribbon-info">Resultado da busca</div>
						<div class="table-responsive-md">  
							<table  class="table table-sm table-bordered table-striped dt-responsive text-center">
								<thead>
									<tr >
										<th>NOME</th>
										<th>CPF</th>
										<th>Ação</th>
									</tr>
								</thead>
								<tbody>
								 <tr th:each="_visitante : ${visitantesResultado}">
									<td th:text="${_visitante.nome}"></td>
									<td th:text="${_visitante.cpf}"></td>
									<td>
									<div class="btn-group" role="group" aria-label="Button group with nested dropdown">
								   	<div class="btn-group" role="group">
								   		<button id="btnGroupDrop1" type="button" class="btn btn-secondary  btn-sm dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >
								   			Ação
								   			</button>
								   			<div class="dropdown-menu" aria-labelledby="btnGroupDrop1">
								   				<a class="dropdown-item" th:href="${'/admin/visualiza/visitante/'+ _visitante.id}" ><i class="fa fa-eye"></i> Visualizar</a>
								   				<a class="dropdown-item" th:href="${'/admin/edita/visitante/'+ _visitante.id}"   ><i class="far fa-edit"></i> Editar</a>
								   				<a class="dropdown-item" th:href="${'/admin/report/visitante/'+ _visitante.id}" target="_blank"><i class="fa fa-print"></i> Imprimir</a>
								   			</div>
								   		</div>
								   	</div>
								   </td>
								</tr> 
								</tbody>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
	</main>
</section>